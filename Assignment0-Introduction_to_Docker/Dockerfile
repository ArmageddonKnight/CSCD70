FROM ubuntu:20.04

ENV LLVM_VERSION=12

RUN apt-get update && \
    env DEBIAN_FRONTEND=noninteractive \
    apt-get install -y --no-install-recommends \
    vim build-essential python3-dev \
    wget ca-certificates \
    lsb-release software-properties-common gpg-agent && \
    rm -rf /var/lib/apt/lists/*

RUN wget https://apt.llvm.org/llvm.sh && \
    chmod +x llvm.sh && \
    ./llvm.sh ${LLVM_VERSION}

RUN wget https://bootstrap.pypa.io/get-pip.py && \
    python3 get-pip.py && rm -f get-pip.py

RUN pip3 install cmake
